import unittest
from DeanerySystem.action import Timetable1, Action, Term, Lesson, Day
class TestDeanerySystem(unittest.TestCase):
    def test_parse(self):
        a = Timetable1()
        self.assertEqual(a.parse(["d+","d-","t+","t-"]), [Action.DAY_LATER, Action.DAY_EARLIER, Action.TIME_LATER, Action.TIME_EARLIER])
    def test_tostring(self):
        a = Timetable1()
        a.put(Lesson(Term(15, 30, 90, Day.WED), "Ang", "Nauczyciel od Ang", 2020))
        a.put(Lesson(Term(8,  00, 90, Day.WED), "Skrypto", "Nauczyciel od Skrypto", 2020))
        a.put(Lesson(Term(9,  30, 90, Day.THU), "Matma", "Nauczyciel od Matmy", 2020))
        a.put(Lesson(Term(11 ,0,  90, Day.THU), "Matma", "Nauczyciel od Matmy", 2020))
        a.put(Lesson(Term(8, 00, 90, Day.FRI), "Zabawa", "Nauczyciel od Zabawy", 2020))
        self.assertEqual(str(a), """*Poniedziałek*Wtorek      *Środa       *Czwartek    *Piątek      *Sobota      *Niedziela
********************************************************************************************
*            *            *Skrypto     *            *Zabawa      *            *            *
********************************************************************************************
*            *            *            *Matma       *            *            *            *
********************************************************************************************
*            *            *            *Matma       *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************
*            *Ang         *            *            *            *            *            *
********************************************************************************************
*            *            *Ang         *            *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************""")
    def test_move(self):
        a = Timetable1()
        a.put(Lesson(Term(15, 30, 90, Day.WED), "Ang", "Nauczyciel od Ang", 2020))
        a.put(Lesson(Term(8,  00, 90, Day.WED), "Skrypto", "Nauczyciel od Skrypto", 2020))
        a.put(Lesson(Term(9,  30, 90, Day.THU), "Matma", "Nauczyciel od Matmy", 2020))
        a.put(Lesson(Term(11 ,0,  90, Day.THU), "Matma", "Nauczyciel od Matmy", 2020))
        a.put(Lesson(Term(8, 00, 90, Day.FRI), "Zabawa", "Nauczyciel od Zabawy", 2020))
        a.perform(a.parse(["d+", "t-", "t-", "d-", "t-", "d-", "t-", "t+", "d+", "t-", "t-", "t-", "t-", "d-", "t-", "d-", "t-", "t+", "d+", "t-", "t-"]))
        self.assertEqual(str(a),"""*Poniedziałek*Wtorek      *Środa       *Czwartek    *Piątek      *Sobota      *Niedziela
********************************************************************************************
*            *            *Skrypto     *            *Zabawa      *            *            *
********************************************************************************************
*            *            *            *Matma       *            *            *            *
********************************************************************************************
*            *            *            *Matma       *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************
*            *Ang         *            *            *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************
*            *            *            *            *            *            *            *
********************************************************************************************""")

if __name__== "__main__":
    unittest.main()


